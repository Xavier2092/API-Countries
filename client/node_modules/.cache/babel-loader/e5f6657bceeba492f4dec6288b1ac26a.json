{"ast":null,"code":"var _jsxFileName = \"/home/xavier/Descargas/countries/a/PI/PI-Countries-main/client/src/components/Home/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCountry, filterCountryByContinent, orderByCountry, filterCountryByPopulation, getTourActivity, countryByActivity } from '../../redux/actions';\nimport './Home.scss';\nimport Card from '../Card/Card.jsx';\nimport Pages from '../Pages/Pages.jsx';\nimport SearchBar from '../SearchBar/SearchBar.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const allCountries = useSelector(state => state.country);\n  const actTour = useSelector(state => state.tourActivity);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [countryByPage, setCountryByPage] = useState(10);\n  const [inOrder, setInOrder] = useState('');\n  const indexOfLastCountry = currentPage * countryByPage;\n  const indexOfFirstCountry = indexOfLastCountry - countryByPage;\n  const currentCountry = allCountries.slice(indexOfFirstCountry, indexOfLastCountry);\n  const arrayActTour = actTour && actTour.map(act => act.nameActivity).sort();\n  let newActTour = [];\n\n  for (let i = 0; i < arrayActTour.length; i++) {\n    if (arrayActTour[i] !== arrayActTour[i + 1]) {\n      newActTour.push(arrayActTour[i]);\n    }\n  }\n\n  const showPages = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  useEffect(() => {\n    dispatch(getCountry());\n    dispatch(getTourActivity());\n  }, [dispatch]);\n\n  function handleClick(ev) {\n    ev.preventDefault();\n    dispatch(getCountry());\n  }\n\n  function handleFilterContinent(ev) {\n    ev.preventDefault();\n    setCurrentPage(1);\n    dispatch(filterCountryByContinent(ev.target.value));\n  }\n\n  function handleSort(ev) {\n    ev.preventDefault();\n    dispatch(orderByCountry(ev.target.value));\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`);\n  }\n\n  function handleSortPopulation(ev) {\n    ev.preventDefault();\n    dispatch(filterCountryByPopulation(ev.target.value));\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`);\n  }\n\n  function handleCountryActivity(ev) {\n    ev.preventDefault();\n    dispatch(countryByActivity(ev.target.value));\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      setCurrentPage: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filtros\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Busqueda por:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtro\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: ev => handleSort(ev),\n            className: \"selHome\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Alfabeticamente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"asc\",\n              children: \"A - Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"desc\",\n              children: \"Z - A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtro\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: ev => handleFilterContinent(ev),\n            className: \"selHome\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Continente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Africa\",\n              children: \"\\xC1frica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Americas\",\n              children: \"Am\\xE9rica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Antarctic\",\n              children: \"Ant\\xE1rtica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Asia\",\n              children: \"Asia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Europe\",\n              children: \"Europa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Oceania\",\n              children: \"Ocean\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtro\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: ev => handleSortPopulation(ev),\n            className: \"selHome\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Poblaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"less\",\n              children: \"Menor poblaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"high\",\n              children: \"Mayor poblaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtro\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: ev => handleCountryActivity(ev),\n            className: \"selHome\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 'All',\n              children: \"Actividad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), newActTour && newActTour.map(act => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: act,\n              children: act\n            }, act, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 55\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: ev => {\n              handleClick(ev);\n            },\n            className: \"bfiltro\",\n            children: \"Limpiar filtro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards\",\n        children: currentCountry === null || currentCountry === void 0 ? void 0 : currentCountry.map(co => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            nameCountry: co.nameCountry,\n            continent: co.continent,\n            flag: co.flag,\n            id: co.id\n          }, co.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pages, {\n        countryByPage: countryByPage,\n        allCountries: allCountries.length,\n        showPages: showPages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"mMDxHv81JBK85PlmppU9HcnIk6U=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/xavier/Descargas/countries/a/PI/PI-Countries-main/client/src/components/Home/Home.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","getCountry","filterCountryByContinent","orderByCountry","filterCountryByPopulation","getTourActivity","countryByActivity","Card","Pages","SearchBar","Home","dispatch","allCountries","state","country","actTour","tourActivity","currentPage","setCurrentPage","countryByPage","setCountryByPage","inOrder","setInOrder","indexOfLastCountry","indexOfFirstCountry","currentCountry","slice","arrayActTour","map","act","nameActivity","sort","newActTour","i","length","push","showPages","pageNumber","handleClick","ev","preventDefault","handleFilterContinent","target","value","handleSort","handleSortPopulation","handleCountryActivity","co","nameCountry","continent","flag","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCountry,\n        filterCountryByContinent,\n        orderByCountry,\n        filterCountryByPopulation,\n        getTourActivity,\n        countryByActivity } from '../../redux/actions';\nimport './Home.scss'\nimport Card from '../Card/Card.jsx';\nimport Pages from '../Pages/Pages.jsx';\nimport SearchBar from '../SearchBar/SearchBar.jsx';\n\n\nexport default function Home(){\n  const dispatch = useDispatch();\n  const allCountries = useSelector((state)=> state.country);\n  const actTour = useSelector((state)=> state.tourActivity);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [countryByPage, setCountryByPage] = useState(10);\n  const [inOrder, setInOrder] = useState('');\n\n  const indexOfLastCountry = currentPage * countryByPage;\n  const indexOfFirstCountry = indexOfLastCountry - countryByPage;\n  const currentCountry = allCountries.slice(indexOfFirstCountry,indexOfLastCountry);\n\n  const arrayActTour = actTour && actTour.map(act => act.nameActivity).sort();\n  let newActTour = [];\n\n  for (let i = 0; i < arrayActTour.length; i++) {\n    if(arrayActTour[i] !== arrayActTour[i+1]){\n      newActTour.push(arrayActTour[i]);\n    }\n  }\n\n  const showPages = (pageNumber)=> {\n    setCurrentPage(pageNumber);\n  }\n  \n  useEffect(()=> {\n    dispatch(getCountry());\n    dispatch(getTourActivity());\n  }, [dispatch])\n\n  function handleClick(ev){\n    ev.preventDefault();\n    dispatch(getCountry());\n  }\n\n  function handleFilterContinent(ev){\n    ev.preventDefault();\n    setCurrentPage(1);\n    dispatch(filterCountryByContinent(ev.target.value));\n  }\n  \n  function handleSort(ev){\n    ev.preventDefault();\n    dispatch(orderByCountry(ev.target.value))\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`)\n  }\n\n  function handleSortPopulation(ev){\n    ev.preventDefault();\n    dispatch(filterCountryByPopulation(ev.target.value))\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`)\n  }\n\n    function handleCountryActivity(ev){\n    ev.preventDefault();\n    dispatch(countryByActivity(ev.target.value))\n    setCurrentPage(1);\n    setInOrder(`Ordenado ${ev.target.value}`)\n  }\n\n  return (\n    <div className= \"home\">\n        <SearchBar setCurrentPage={setCurrentPage}/>\n        \n        <div>\n          <div className= \"filtros\">\n            <div>\n              <h3>Busqueda por:</h3>\n            </div>\n            <div className= \"filtro\">\n              <select onChange={ev=> handleSort(ev)} className='selHome'>\n                <option>Alfabeticamente</option>\n                <option value='asc'>A - Z</option>\n                <option value='desc'>Z - A</option>\n              </select>\n            </div>\n            <div className= \"filtro\">\n              <select onChange={ev=> handleFilterContinent(ev)} className='selHome'>\n                <option>Continente</option>\n                <option value='Africa'>África</option>\n                <option value='Americas'>América</option>\n                <option value='Antarctic'>Antártica</option>\n                <option value='Asia'>Asia</option>\n                <option value='Europe'>Europa</option>\n                <option value='Oceania'>Oceanía</option>\n              </select>\n            </div>\n            <div className= \"filtro\">\n              <select onChange={ev=> handleSortPopulation(ev)} className='selHome'>\n                <option>Población</option>\n                <option value='less'>Menor población</option>\n                <option value='high'>Mayor población</option>\n              </select>\n            </div>\n            <div className= \"filtro\">\n              <select onChange={ev=> handleCountryActivity(ev)} className='selHome'>\n                <option value={'All'}>Actividad</option>\n                { newActTour && newActTour.map(act => <option key={act} value={act}>{act}</option>)}\n              </select>\n            </div>\n            <div>\n              <button onClick= {ev=> {handleClick(ev)}} className= \"bfiltro\">\n                Limpiar filtro\n              </button>\n            </div>\n          </div>\n\n          <div className= \"cards\">\n            {\n              currentCountry?.map(co=> {\n                return (\n                  <Card nameCountry={co.nameCountry} continent={co.continent} flag={co.flag} id={co.id} key={co.id}/>\n                );\n              })\n            }\n          </div>\n          \n          <Pages \n              countryByPage = {countryByPage}\n              allCountries = {allCountries.length}\n              showPages = {showPages}\n            />\n        </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}